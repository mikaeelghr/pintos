# تمرین گروهی ۳

## تغییرات نسبت به داک طراحی

### قسمت پوشه ها

در استراکت
file descriptor
یک متغیر از جنس
dir *
اضافه کردیم که اگر دایرکتوری باز شده بود، مقدار فایل در این استراکت نال خواهد شد
و مقدار
dir
به محتوای فایل دسکریپتور اشاره خواهد کرد.

### قسمت فایل های قابل گسترش

در این قسمت یک استراکت آی نود غیر مستقیم به شرح زیر اضافه کردیم:

```
struct indirect_node
  {
    block_sector_t children[INODE_INDIRECT_INSTANT_CHILDREN_COUNT];
  };
```

### قسمت کش
در این قسمت تغییرات خاصی نسبت به داک طراحی اصلی ایجاد نشده است.


## پیاده سازی تست ها

در این قسمت چون تست ها در سمت کاربر اجرا می شدند و به زیرساخت کرنل دسترسی نداشتند و هم چنین
به دلیل این که اگر گروه دیگری خواست تست ما را تست کند بتواند با حداقل تغییرات آن را اجرا
کند از سیستم کال به عنوان رابط استفاده کردیم. در این بخش ما سه سیستم کال
SYS_CACHEINV و SYS_CACHESTAT و SYS_DISKREADWRITECOUNT
را اضافه کرده ایم که اطلاعاتی راجع به بلاک های خوانده شده و هیت ها در کش به ما می دهند و هم چنین
می توانند کش را نامعتبر و بازنشانی کنند که برای ایجاد شرایط آزمایشگاهی خواسته شده در داک
تمرین، مناسب باشد.

سپس به کمک این سیستم کال ها، سه تست خواسته شده را به ترتیب در فایل های
write-cache و join-cache و hit-rate
قرار داده ایم که همه با موفقیت کامل پاس می شوند.

## تقسیم کار

### حمیدرضا کلباسی
* نوشتن مستندات
* پیاده سازی تست ها

### مهدی جعفری
* پیاده سازی قسمت کش
* پیاده سازی قسمت فایل های قابل گسترش
* ایراد زدایی از برنامه

### میکاییل قربانی
* پیاده سازی قسمت پوشه ها
* پیاده سازی تست ها
* ایراد زدایی از برنامه
